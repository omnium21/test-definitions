metadata:
    name: TC33
    format: "Manual Test Definition 1.0"
    description: "TC33: QSPI MTD read/write"
    maintainer:
        - ryan.harkin@linaro.org
    os:
        - openembedded
    scope:
        - functional
    devices:
        - lces2
        - soca9
    environment:
        - manual-test

run:
    steps:
        - "#soca9: ok"
        - "dev=2"
        - "#lces2: ok"
        - "dev=9"
        - " "
        - "sumfile=~/tc26.md5"
        - " "
        - "./test-mtd-write.sh ${dev} 128 | tail -1 | cut -d \" \" -f 1 | tee ${sumfile}.write"
        - " "
        - "reboot"
        - "sumfile=~/tc26.md5"
        - "./test-mtd-read.sh  ${dev} | tail -1 | cut -d \" \" -f 1 | tee ${sumfile}.read"
        - " "
        - "cat ${sumfile}.*"
        - "cmp ${sumfile}.*"
        - "if [ $? -eq 0 ]; then  echo pass; else echo fail; fi"

    expected:
        - "The checksum matches, pass is echoed to the terminal"
